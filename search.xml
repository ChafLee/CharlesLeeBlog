<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Flutter image_picker ios模拟器闪退问题</title>
    <url>/charlesleeblog/2023/02/21/Flutter%20image_picker%20ios%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h2><p>上代码</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> _getImage() <span class="keyword">async</span> &#123;</span><br><span class="line">    PickedFile pickedFile = <span class="keyword">await</span> picker.getImage(source: ImageSource.gallery);</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      image = File(pickedFile.path);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>这是一段我在注册时选择头像时<code>onTap</code>所调用的函数，起初一直在chrome上运行调试，所以没有去点击测试</p>
<p>然而后来在ios模拟器中运行的时候一点击App就闪退了</p>
<p>百度了一下是ios系统的权限问题，需要在ios的配置文件中增加对访问照片权限的原因描述</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>打开<code>ios&gt;Runner&gt;info.plist</code>配置文件，加入以下参数</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSPhotoLibraryUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>获取您的图片权限以上传头像<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>xcode下视图<br><a href="https://imgse.com/i/pSj9GdS"><img src="https://s1.ax1x.com/2023/02/21/pSj9GdS.jpg" alt="pSj9GdS.jpg" loading="lazy" onerror='this.onerror=null;this.src="/charlesleeblog/img/404.jpg"'></a></p>
]]></content>
      <categories>
        <category>Exception记录</category>
      </categories>
      <tags>
        <tag>flutter</tag>
        <tag>exception</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutter Error Cannot run with sound null safety, because the following dependencies don‘t support</title>
    <url>/charlesleeblog/2023/02/20/Flutter%20Error%20Cannot%20run%20with%20sound%20null%20safety,%20because%20the%20following%20dependencies%20don%E2%80%98t%20support/</url>
    <content><![CDATA[<h1 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h1><p>我在我的Flutter项目中引入了第三方组件<a href="https://pub.dev/packages/awesome_dialog">Awesome_dialog</a></p>
<p>结果在运行时报错：</p>
<div style="color:red; border: 1px solid gray; padding: 5px">
Error: Cannot run with sound null safety, because the following dependencies
don't support null safety:

<ul>
<li>package:awesome_dialog</li>
<li>package:simple_animations</li>
<li>package:flare_flutter</li>
<li>package:supercharged</li>
<li>package:sa_v1_migration</li>
<li>package:flare_dart</li>
<li>package:supercharged_dart</div></li>
</ul>
<p>看字面意思像是说以下依赖包不安全</p>
<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>在项目运行时加入<code>--no-sound-null-safety</code>参数，让其不监听安全性</p>
<p>但需要每次运行都手动加入该参数</p>
<p>如果是在IDEA中开发项目，可以编辑<code>main.dart</code>的启动参数，让其每次启动都自动加上该参数</p>
<p><img src="https://imgse.com/i/pSjCSw8" alt="jCSw8.jpg" loading="lazy" onerror='this.onerror=null;this.src="/charlesleeblog/img/404.jpg"'><br><img src="https://imgse.com/i/pSjCVO0" alt="jCVO0.jpg" loading="lazy" onerror='this.onerror=null;this.src="/charlesleeblog/img/404.jpg"'></p>
]]></content>
      <categories>
        <category>Exception记录</category>
      </categories>
      <tags>
        <tag>Flutter</tag>
        <tag>Exception</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo部署Github空白页问题</title>
    <url>/charlesleeblog/2022/12/30/Hexo%E9%83%A8%E7%BD%B2Github%E7%A9%BA%E7%99%BD%E9%A1%B5%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="记录一下Hexo部署到Github-pages访问页面显示空白问题"><a href="#记录一下Hexo部署到Github-pages访问页面显示空白问题" class="headerlink" title="记录一下Hexo部署到Github pages访问页面显示空白问题"></a>记录一下Hexo部署到Github pages访问页面显示空白问题</h2><p>在服务器上安装部署Hexo后，访问没问题，然后偶然看到有博主的网站域名是github.io结尾的，于是在一番探索下尝试将静态文件部署到github pages进行托管，结果在访问时确实空白页面，百度之后大多数都是说index.html是空白的，但我的index文件确实是有内容的，但依旧是空白显示，我也尝试将主题切换为原始<code>landscape</code> 主题，但并没有任何作用，最后看到有说是node版本问题，我的Node版本是v16.18.1，在一番百度下大概率是因为node版本过高的原因</p>
<h3 id="卸载npm"><a href="#卸载npm" class="headerlink" title="卸载npm"></a>卸载npm</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm uninstall npm -g</span><br></pre></td></tr></table></figure>
<h3 id="卸载node"><a href="#卸载node" class="headerlink" title="卸载node"></a>卸载node</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum remove nodejs npm -y</span><br></pre></td></tr></table></figure>
<p>看看是否有残留<br>进入 /usr/local/lib 删除所有 node 和 node_modules文件夹</p>
<p>进入 /usr/local/include 删除所有 node 和 node_modules 文件夹</p>
<p>进入 /usr/local/bin 删除 node 的可执行文件</p>
<h3 id="安装新版本node"><a href="#安装新版本node" class="headerlink" title="安装新版本node"></a>安装新版本node</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -sL https://rpm.nodesource.com/setup_12.x | bash -</span><br></pre></td></tr></table></figure>
<p>我需要的是nodejs12.x的版本，所以这里是setup_12.x</p>
<p>最后执行安装命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum -y install nodejs</span><br><span class="line"><span class="comment"># 查看node版本</span></span><br><span class="line">node -v</span><br><span class="line">V12.22.12</span><br></pre></td></tr></table></figure>
<h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install</span><br><span class="line"><span class="comment"># 由于主题需要，需安装hexo-renderer-less hexo-renderer-ejs</span></span><br><span class="line">npm install hexo-renderer-less hexo-renderer-ejs --save</span><br><span class="line"><span class="comment"># 安装Hexo部署插件</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="配置部署信息"><a href="#配置部署信息" class="headerlink" title="配置部署信息"></a>配置部署信息</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 编辑_config.yml的deploy参数</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/xxx/xxx.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 部署</span></span><br><span class="line">npx hexo clean</span><br><span class="line">npx hexo generate</span><br><span class="line">npx hexo deploy</span><br></pre></td></tr></table></figure>
<p><font size=5 color=red><b>以上都没有用！！！</b></font></p>
<p><font size=5 color=red><b>以上都没有用！！！</b></font></p>
<p><font size=5 color=red><b>以上都没有用！！！</b></font></p>
<p>真正的问题在我打开控制台后才发现所有的静态资源文件都是NOT_FOUND</p>
<p>修改<code>_config.yml</code>的<code>url</code>和<code>root</code>参数</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://chaflee.github.io/YourProjectName</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/YourProjectName/</span></span><br></pre></td></tr></table></figure>
<p>重新生成文件部署</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx hexo clean &amp;&amp; npx hexo g -d</span><br></pre></td></tr></table></figure>

<p>访问<a href="https://chaflee.github.io/YourProjectName/">https://chaflee.github.io/YourProjectName/</a></p>
<p><font color=green size=5><b>成功！！！</b></font></p>
<h2 id="以下是过程中的一些问题记录，虽然和这次问题可能没多大关系了😀"><a href="#以下是过程中的一些问题记录，虽然和这次问题可能没多大关系了😀" class="headerlink" title="以下是过程中的一些问题记录，虽然和这次问题可能没多大关系了😀"></a>以下是过程中的一些问题记录，虽然和这次问题可能没多大关系了😀</h2><ol>
<li><p><code>npm install</code> 时提示以下信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@2.3.2: wanted &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;darwin&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;any&quot;</span>&#125; (current: &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;linux&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;x64&quot;</span>&#125;)</span><br></pre></td></tr></table></figure>
<p>只需在命令后加 <code>--no-optional</code> 参数即可</p>
</li>
<li><p>安装nodejs-v12版本后，执行 <code>npx hexo clean</code> 时报错</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INFO  Validating config</span><br><span class="line">ERROR &#123;</span><br><span class="line">  err: /usr/local/hexo/themes/async/scripts/helper/tag.js:21</span><br><span class="line">      const <span class="built_in">type</span> = hexo.theme.config?.assets?.icons?.<span class="built_in">type</span> || <span class="string">&#x27;font&#x27;</span></span><br><span class="line">                                     ^</span><br><span class="line">  </span><br><span class="line">  SyntaxError: Unexpected token <span class="string">&#x27;.&#x27;</span></span><br><span class="line">      at new Script (vm.js:88:7)</span><br><span class="line">      at createScript (vm.js:261:10)</span><br><span class="line">      at runInThisContext (vm.js:309:10)</span><br><span class="line">      at /usr/local/hexo/node_modules/hexo/lib/hexo/index.js:303:18</span><br><span class="line">      at tryCatcher (/usr/local/hexo/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">      at Promise._settlePromiseFromHandler (/usr/local/hexo/node_modules/bluebird/js/release/promise.js:547:31)</span><br><span class="line">      at Promise._settlePromise (/usr/local/hexo/node_modules/bluebird/js/release/promise.js:604:18)</span><br><span class="line">      at Promise._settlePromise0 (/usr/local/hexo/node_modules/bluebird/js/release/promise.js:649:10)</span><br><span class="line">      at Promise._settlePromises (/usr/local/hexo/node_modules/bluebird/js/release/promise.js:729:18)</span><br><span class="line">      at _drainQueueStep (/usr/local/hexo/node_modules/bluebird/js/release/async.js:93:12)</span><br><span class="line">      at _drainQueue (/usr/local/hexo/node_modules/bluebird/js/release/async.js:86:9)</span><br><span class="line">      at Async._drainQueues (/usr/local/hexo/node_modules/bluebird/js/release/async.js:102:5)</span><br><span class="line">      at Immediate.Async.drainQueues [as _onImmediate] (/usr/local/hexo/node_modules/bluebird/js/release/async.js:15:14)</span><br><span class="line">      at processImmediate (internal/timers.js:461:21)</span><br><span class="line">&#125; Script load failed: %s themes/async/scripts/helper/tag.js</span><br></pre></td></tr></table></figure>
<p>原因就是v12版本的node也不兼容😅</p>
</li>
</ol>
<p>但在我重新安装其他版本node时，执行切换node源版本命令时，出现一直还在重新安装v12版本且安装失败的错误，可以尝试清除一下yum源 <code>yum clean all</code> ，再尝试重新安装</p>
]]></content>
      <categories>
        <category>安装部署</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>centos</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo Centos7部署</title>
    <url>/charlesleeblog/2022/08/08/Hexo%20Centos7%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<h2 id="一、安装Node-js"><a href="#一、安装Node-js" class="headerlink" title="一、安装Node.js"></a>一、安装Node.js</h2><h3 id="使用EPEL安装"><a href="#使用EPEL安装" class="headerlink" title="使用EPEL安装"></a>使用EPEL安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.先确认系统是否已经安装epel-release包</span></span><br><span class="line"><span class="variable">$yum</span> info epel-release</span><br><span class="line"><span class="comment"># 2.若输出相关信息，则已安装，否则执行下面命令安装</span></span><br><span class="line"><span class="variable">$sudo</span> yum install epel-release</span><br><span class="line"><span class="comment"># 3.安装Node.js</span></span><br><span class="line"><span class="variable">$sudo</span> yum install nodejs</span><br><span class="line"><span class="comment"># 4.检验版本</span></span><br><span class="line"><span class="variable">$node</span> -v</span><br></pre></td></tr></table></figure>
<h2 id="二、安装git"><a href="#二、安装git" class="headerlink" title="二、安装git"></a>二、安装git</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.卸载旧版本</span></span><br><span class="line"><span class="variable">$yum</span> remove git</span><br><span class="line"><span class="comment"># 2.安装yum源的Git版本</span></span><br><span class="line"><span class="variable">$yum</span> install -y git</span><br><span class="line"><span class="comment"># 3.查看版本</span></span><br><span class="line"><span class="variable">$git</span> version</span><br></pre></td></tr></table></figure>
<h3 id="配置全局环境变量"><a href="#配置全局环境变量" class="headerlink" title="配置全局环境变量"></a>配置全局环境变量</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. 编辑配置文件</span></span><br><span class="line"><span class="variable">$vim</span> /etc/profile</span><br><span class="line"><span class="comment"># 2. 在 /etc/profile 文件中末尾追加以下内容(相信你肯定已熟练掌握 Vim 使用啦)</span></span><br><span class="line"><span class="variable">$export</span> PATH=<span class="variable">$PATH</span>:/usr/local/git/bin</span><br><span class="line"><span class="comment"># 3. 回到终端, 刷新配置</span></span><br><span class="line"><span class="variable">$source</span> /etc/profile</span><br><span class="line"><span class="comment"># 4. 查看版本</span></span><br><span class="line"><span class="variable">$git</span> version </span><br></pre></td></tr></table></figure>
<h2 id="三、安装Hexo"><a href="#三、安装Hexo" class="headerlink" title="三、安装Hexo"></a>三、安装Hexo</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.安装npm</span></span><br><span class="line"><span class="variable">$yum</span> install npm</span><br><span class="line"><span class="comment"># 2.安装hexo</span></span><br><span class="line"><span class="variable">$npm</span> install -g hexo-cli</span><br><span class="line"><span class="comment"># 3.创建hexo项目文件夹</span></span><br><span class="line"><span class="variable">$mkdir</span> /usr/local/hexo</span><br><span class="line"><span class="comment"># 4.hexo初始化</span></span><br><span class="line"><span class="variable">$cd</span> /usr/local/hexo</span><br><span class="line"><span class="variable">$npx</span> hexo init</span><br><span class="line"><span class="comment"># 5.启动服务</span></span><br><span class="line"><span class="variable">$npx</span> hexo server</span><br><span class="line"><span class="comment"># 后台启动</span></span><br><span class="line"><span class="variable">$nohup</span> npx hexo server &gt; log.out 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="comment"># 后台启动后使用exit退出ssh</span></span><br></pre></td></tr></table></figure>
<h2 id="四、配置Hexo主题"><a href="#四、配置Hexo主题" class="headerlink" title="四、配置Hexo主题"></a>四、配置Hexo主题</h2><p><a href="https://async-docs.imalun.com/">Async主题</a>  点击下载 <a href="https://github.com/MaLuns/hexo-theme-async">GitHUb</a></p>
<ol>
<li>下载源码包至服务器</li>
<li>yum安装zip解压缩工具并解压<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$yum</span> install -y zip unzip</span><br><span class="line"><span class="variable">$unzip</span> -d /usr/local/hexo/themes async.zip</span><br></pre></td></tr></table></figure></li>
<li>npm安装主题必须的组件<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$npm</span> install --save hexo-theme-async hexo-renderer-less hexo-renderer-ejs</span><br></pre></td></tr></table></figure></li>
<li>修改hexo目录下的_config.yml，将 <code>theme: landscape</code> 修改为 <code>theme: async</code></li>
<li>重启hexo服务</li>
</ol>
]]></content>
      <categories>
        <category>安装部署</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>centos</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Vim配置</title>
    <url>/charlesleeblog/2022/08/20/Vim%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h3 id="编辑VIM配置文件"><a href="#编辑VIM配置文件" class="headerlink" title="编辑VIM配置文件"></a>编辑VIM配置文件</h3><h4 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/vim/vimrc ~/.vimrc</span><br><span class="line">vim ~/.vimrc</span><br></pre></td></tr></table></figure>
<h4 id="LINUX"><a href="#LINUX" class="headerlink" title="LINUX"></a>LINUX</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/vimrc</span><br></pre></td></tr></table></figure>
<h3 id="配置参数"><a href="#配置参数" class="headerlink" title="配置参数"></a>配置参数</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">colorscheme default     &quot; 设置颜色主题</span><br><span class="line">syntax on               &quot; 语法高亮</span><br><span class="line">filetype on             &quot; 检测文件的类型</span><br><span class="line">set number              &quot; 显示行号</span><br><span class="line">set cursorline          &quot; 用浅色高亮当前行</span><br><span class="line">&quot;autocmd InsertLeave * se nocul</span><br><span class="line">&quot;autocmd InsertEnter * se cul</span><br><span class="line">set ruler               &quot; 在编辑过程中，在右下角显示光标位置的状态行</span><br><span class="line">set laststatus=2        &quot; 显示状态栏 (默认值为 1, 无法显示状态栏)</span><br><span class="line">set statusline=\ %&lt;%F[%1*%M%*%n%R%H]%=\ %y\ %0(%&#123;&amp;fileformat&#125;\ %&#123;&amp;encoding&#125;\ %c:%l/%L%)\</span><br><span class="line">                        &quot; 设置在状态行显示的信息</span><br><span class="line">set tabstop=4           &quot; Tab键的宽度</span><br><span class="line">set softtabstop=4</span><br><span class="line">set shiftwidth=4        &quot; 统一缩进为4</span><br><span class="line">set autoindent          &quot; vim使用自动对齐，也就是把当前行的对齐格式应用到下一行(自动缩进)</span><br><span class="line">set cindent             &quot; (cindent是特别针对 C语言语法自动缩进)</span><br><span class="line">set smartindent         &quot; 依据上面的对齐格式，智能的选择对齐方式，对于类似C语言编写上有用</span><br><span class="line">set scrolloff=3         &quot; 光标移动到buffer的顶部和底部时保持3行距离</span><br><span class="line">set incsearch           &quot; 输入搜索内容时就显示搜索结果</span><br><span class="line">set hlsearch            &quot; 搜索时高亮显示被找到的文本</span><br><span class="line">set foldmethod=indent   &quot; 设置缩进折叠</span><br><span class="line">set foldlevel=99        &quot; 设置折叠层数</span><br><span class="line">nnoremap &lt;space&gt; @=((foldclosed(line(&#x27;.&#x27;)) &lt; 0) ? &#x27;zc&#x27; : &#x27;zo&#x27;)&lt;CR&gt;</span><br><span class="line">                        &quot; 用空格键来开关折叠</span><br><span class="line">&quot; 自动跳转到上次退出的位置</span><br><span class="line">if has(&quot;autocmd&quot;)</span><br><span class="line">    au BufReadPost * if line(&quot;&#x27;\&quot;&quot;) &gt; 1 &amp;&amp; line(&quot;&#x27;\&quot;&quot;) &lt;= line(&quot;$&quot;) | exe &quot;normal! g&#x27;\&quot;&quot; | endif</span><br><span class="line">endif</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 按Esc退出到命令模式</span></span><br><span class="line">:wq! <span class="comment"># 退出保存配置</span></span><br><span class="line"><span class="comment"># 刷新修改的配置</span></span><br><span class="line"><span class="built_in">source</span> /etc/vimrc</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术随笔</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>vim</tag>
      </tags>
  </entry>
</search>
